<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>freshbooks.client API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>freshbooks.client</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import os
from datetime import datetime, timedelta
import logging
from types import SimpleNamespace
from typing import Optional, List

import requests
from requests.models import urlencode  # type: ignore

from freshbooks.api.accounting import AccountingResource
from freshbooks.api.auth import AuthResource
from freshbooks.api.projects import ProjectsResource
from freshbooks.api.resource import Resource
from freshbooks.api.timetracking import TimetrackingResource
from freshbooks.errors import FreshBooksError, FreshBooksClientConfigError
from freshbooks.models import Identity

API_BASE_URL = &#34;https://api.freshbooks.com&#34;
API_TOKEN_URL = &#34;auth/oauth/token&#34;
AUTH_BASE_URL = &#34;https://auth.freshbooks.com&#34;
AUTH_URL = &#34;/service/auth/oauth/authorize&#34;
DEFAULT_TIMEOUT = 30
&#34;&#34;&#34;Default request timeout to FreshBooks&#34;&#34;&#34;

logging.getLogger(&#39;freshbooks&#39;).addHandler(logging.NullHandler())

with open(os.path.join(os.path.dirname(__file__), &#34;VERSION&#34;)) as f:
    VERSION = f.readlines()[0].strip()


class Client:
    def __init__(self, client_id: str, client_secret: Optional[str] = None, redirect_uri: Optional[str] = None,
                 access_token: Optional[str] = None, refresh_token: Optional[str] = None,
                 user_agent: Optional[str] = None, timeout: Optional[int] = DEFAULT_TIMEOUT,
                 auto_retry: bool = True):
        &#34;&#34;&#34;
        Create a new API client instance for the given `client_id` and `client_secret`.
        This will allow you to follow the authentication flow to get an `access_token`.

        Alternatively, you can provide an `access_token` directly, in which case then you don&#39;t need
        to specify a `client_secret` (though the token cannot be refreshed in this case).

        Args:
            client_id: The FreshBooks application client id
            client_secret: (Optional) The FreshBooks application client secret
            redirect_uri: (Optional) Where the user should be redirected to after authentication
            access_token: (Optional) An already authenticated access token to use
            refresh_token: (Optional) An already authenticated refresh token to use
            user_agent: (Optional) A user-agent string to override the default
            timeout: (Optional) Set the timeout for API calls. Defaults to 30
            auto_retry: If the SDK should retry failed call up to 3 times. Defaults to True.

        Returns:
            The Client instance
        &#34;&#34;&#34;
        self.client_id = client_id
        self.client_secret = client_secret
        self.redirect_uri = redirect_uri
        self.access_token = access_token
        self.refresh_token = refresh_token
        self.access_token_expires_at: Optional[datetime] = None
        self.timeout = timeout
        self.auto_retry = auto_retry

        self.base_url = os.getenv(&#34;FRESHBOOKS_API_URL&#34;, API_BASE_URL)
        self.authorization_url = &#34;{}{}&#34;.format(os.getenv(&#34;FRESHBOOKS_AUTH_URL&#34;, AUTH_BASE_URL), AUTH_URL)
        self.token_url = &#34;{}{}&#34;.format(os.getenv(&#34;FRESHBOOKS_AUTH_URL&#34;, AUTH_BASE_URL), AUTH_URL)

        if user_agent:
            self.user_agent = user_agent
        else:
            self.user_agent = f&#34;FreshBooks python sdk/{VERSION} client_id {self.client_id}&#34;

    def __str__(self) -&gt; str:  # pragma: no cover
        return f&#34;FreshBooks Client: {self.client_id}&#34;

    def __repr__(self) -&gt; str:  # pragma: no cover
        return f&#34;FreshBooks Client: {self.client_id}&#34;

    def _client_resource_config(self) -&gt; SimpleNamespace:
        return SimpleNamespace(
            access_token=self.access_token,
            base_url=self.base_url,
            user_agent=self.user_agent,
            auto_retry=self.auto_retry,
            timeout=self.timeout
        )

    def get_auth_request_url(self, scopes: Optional[List[str]] = None) -&gt; str:
        &#34;&#34;&#34;Returns the url that a client needs to request an oauth grant from the server.

        To get an oauth access token, send your user to this URL. The user will be prompted to
        log in to FreshBooks, after which they will be redirected to the `redirect_uri` set on
        the client with the access grant as a parameter. That grant can then be used to fetch an
        access token by calling `get_access_token`.

        Note: The `redirect_uri` must be one of the URLs your application is registered for.

        If scopes are not specified, then the access token will be given the default scopes your
        application is registered for.

        Args:
            scopes: List of scopes if your want an access token with only a subset of your registered scopes

        Returns:
            The URL for the authorization request
        &#34;&#34;&#34;
        params = {
            &#34;client_id&#34;: self.client_id,
            &#34;response_type&#34;: &#34;code&#34;,
            &#34;redirect_uri&#34;: self.redirect_uri,
        }
        if scopes:
            params[&#34;scope&#34;] = &#34; &#34;.join(scopes)
        formatted_params = &#34;&#34;.join(urlencode(params))
        return f&#34;{self.authorization_url}?{formatted_params}&#34;

    def _authorize_call(self, grant_type: str, code_type: str, code: str) -&gt; SimpleNamespace:
        &#34;&#34;&#34;Shared logic for making access_token and refresh_token calls&#34;&#34;&#34;
        payload = {
            &#34;client_id&#34;: self.client_id,
            &#34;client_secret&#34;: self.client_secret,
            &#34;grant_type&#34;: grant_type,
            &#34;redirect_uri&#34;: self.redirect_uri,
            code_type: code
        }
        response = requests.post(f&#34;{self.base_url}/{API_TOKEN_URL}&#34;, payload, timeout=self.timeout)
        content = response.json()
        try:
            self.access_token = content[&#34;access_token&#34;]
            self.refresh_token = content[&#34;refresh_token&#34;]
            created_at = datetime.utcfromtimestamp(content[&#34;created_at&#34;])
            expires_in = timedelta(seconds=content[&#34;expires_in&#34;])
            self.access_token_expires_at = created_at + expires_in
        except KeyError:
            raise FreshBooksError(response.status_code, &#34;Failed to fetch access_token&#34;, raw_response=response.text)
        return SimpleNamespace(
            access_token=self.access_token,
            refresh_token=self.refresh_token,
            access_token_expires_at=self.access_token_expires_at
        )

    def get_access_token(self, code: str) -&gt; SimpleNamespace:
        &#34;&#34;&#34;Makes a call to the FreshBooks token URL to get an access_token.

        This requires the access_grant code obtained after the user is redirected by the authorization
        step. See `freshbooks.client.Client.get_auth_request_url`.

        This call sets the `access_token`, `refresh_token`, and `access_token_expires_at` attributes
        on the Client instance and also returns those values in an object.

        Args:
            code: access_grant code from the authorization redirect

        Returns:
            Simplre namespace containing `access_token`, `refresh_token`, and `access_token_expires_at`
        &#34;&#34;&#34;
        return self._authorize_call(&#34;authorization_code&#34;, &#34;code&#34;, code)

    def refresh_access_token(self, refresh_token: Optional[str] = None) -&gt; SimpleNamespace:
        &#34;&#34;&#34;Makes a call to the FreshBooks token URL to refresh an access_token.

        If `refresh_token` is provided, it will call to refresh it, otherwise it will use the
        `refresh_token` on the Client instance.

        This call sets the `access_token`, `refresh_token`, and `access_token_expires_at` attributes
        on the Client instance to the new values from the refresh call, and also returns those values
        in an object.

        Args:
            refresh_token: (Optional) refresh_token from initial `get_access_token` call

        Returns:
            Simplre namespace containing `access_token`, `refresh_token`, and `access_token_expires_at`

        Raises:
            FreshBooksClientConfigError: If a refresh token is not set on the client instance and is not provided.
        &#34;&#34;&#34;
        refresh_token = refresh_token or self.refresh_token
        if not refresh_token:
            raise FreshBooksClientConfigError(&#34;refresh_token required&#34;)
        return self._authorize_call(&#34;refresh_token&#34;, &#34;refresh_token&#34;, refresh_token)

    # Auth Resources

    @property
    def current_user(self) -&gt; Identity:
        &#34;&#34;&#34;The identity details of the currently authenticated user.

        See https://www.freshbooks.com/api/me_endpoint
        &#34;&#34;&#34;
        return AuthResource(self._client_resource_config()).me_endpoint()

    # Accounting Resources

    @property
    def clients(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks clients resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(self._client_resource_config(), &#34;users/clients&#34;, &#34;client&#34;, &#34;clients&#34;)

    @property
    def credit_notes(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks credit_notes resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;credit_notes/credit_notes&#34;, &#34;credit_note&#34;, &#34;credit_notes&#34;
        )

    @property
    def estimates(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks estimates resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;estimates/estimates&#34;, &#34;estimate&#34;, &#34;estimates&#34;, delete_via_update=False
        )

    @property
    def expenses(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks expenses resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(self._client_resource_config(), &#34;expenses/expenses&#34;, &#34;expense&#34;, &#34;expenses&#34;)

    @property
    def expenses_categories(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks expenses categories resource with calls to get and list&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;expenses/categories&#34;, &#34;category&#34;, &#34;categories&#34;,
            missing_endpoints=[&#34;create&#34;, &#34;update&#34;, &#34;delete&#34;]
        )

    @property
    def gateways(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks gateways resource with calls to list, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;systems/gateways&#34;, &#34;gateway&#34;, &#34;gateways&#34;, delete_via_update=False,
            missing_endpoints=[&#34;create&#34;, &#34;update&#34;, &#34;get&#34;]
        )

    @property
    def invoices(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks invoices resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;invoices/invoices&#34;, &#34;invoice&#34;, &#34;invoices&#34;, delete_via_update=False
        )

    @property
    def invoice_profiles(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks invoice_profiles resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;invoice_profiles/invoice_profiles&#34;, &#34;invoice_profile&#34;, &#34;invoice_profiles&#34;
        )

    @property
    def items(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks items resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(self._client_resource_config(), &#34;items/items&#34;, &#34;item&#34;, &#34;items&#34;)

    @property
    def other_income(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks other_incomes resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;other_incomes/other_incomes&#34;, &#34;other_income&#34;, &#34;other_income&#34;,
            delete_via_update=False
        )

    @property
    def payments(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks payments resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(self._client_resource_config(), &#34;payments/payments&#34;, &#34;payment&#34;, &#34;payments&#34;)

    @property
    def staff(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks staff resource with calls to get, list, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;users/staffs&#34;, &#34;staff&#34;, &#34;staffs&#34;, missing_endpoints=[&#34;create&#34;]
        )

    @property
    def systems(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks systems resource with calls to get only&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;systems/systems&#34;, &#34;system&#34;, &#34;systems&#34;,
            missing_endpoints=[&#34;create&#34;, &#34;update&#34;, &#34;delete&#34;, &#34;list&#34;]
        )

    @property
    def tasks(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks tasks resource with calls to get, list, create, update, delete

        Note: There is a lot of overlap between Services and Tasks. In general services are used
        to add categories of work to projects, and tasks are used to add billable work to invoices.

        Creating a task should create the corresponding service and vice versa.
        &#34;&#34;&#34;
        return AccountingResource(self._client_resource_config(), &#34;projects/tasks&#34;, &#34;task&#34;, &#34;tasks&#34;)

    @property
    def taxes(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks taxes resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;taxes/taxes&#34;, &#34;tax&#34;, &#34;taxes&#34;, delete_via_update=False
        )

    # Project Resources

    @property
    def projects(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks projects resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return ProjectsResource(self._client_resource_config(), &#34;projects&#34;, &#34;project&#34;)

    # Time tracking Resources

    @property
    def time_entries(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks time_entries resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return TimetrackingResource(self._client_resource_config(), &#34;time_entries&#34;, &#34;time_entry&#34;)</code></pre>
</details>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-variables">Global variables</h2>
<dl>
<dt id="freshbooks.client.DEFAULT_TIMEOUT"><code class="name">var <span class="ident">DEFAULT_TIMEOUT</span></code></dt>
<dd>
<div class="desc"><p>Default request timeout to FreshBooks</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="freshbooks.client.Client"><code class="flex name class">
<span>class <span class="ident">Client</span></span>
<span>(</span><span>client_id: str, client_secret: Optional[str] = None, redirect_uri: Optional[str] = None, access_token: Optional[str] = None, refresh_token: Optional[str] = None, user_agent: Optional[str] = None, timeout: Optional[int] = 30, auto_retry: bool = True)</span>
</code></dt>
<dd>
<div class="desc"><p>Create a new API client instance for the given <code>client_id</code> and <code>client_secret</code>.
This will allow you to follow the authentication flow to get an <code>access_token</code>.</p>
<p>Alternatively, you can provide an <code>access_token</code> directly, in which case then you don't need
to specify a <code>client_secret</code> (though the token cannot be refreshed in this case).</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>client_id</code></strong></dt>
<dd>The FreshBooks application client id</dd>
<dt><strong><code>client_secret</code></strong></dt>
<dd>(Optional) The FreshBooks application client secret</dd>
<dt><strong><code>redirect_uri</code></strong></dt>
<dd>(Optional) Where the user should be redirected to after authentication</dd>
<dt><strong><code>access_token</code></strong></dt>
<dd>(Optional) An already authenticated access token to use</dd>
<dt><strong><code>refresh_token</code></strong></dt>
<dd>(Optional) An already authenticated refresh token to use</dd>
<dt><strong><code>user_agent</code></strong></dt>
<dd>(Optional) A user-agent string to override the default</dd>
<dt><strong><code>timeout</code></strong></dt>
<dd>(Optional) Set the timeout for API calls. Defaults to 30</dd>
<dt><strong><code>auto_retry</code></strong></dt>
<dd>If the SDK should retry failed call up to 3 times. Defaults to True.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>The Client instance</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Client:
    def __init__(self, client_id: str, client_secret: Optional[str] = None, redirect_uri: Optional[str] = None,
                 access_token: Optional[str] = None, refresh_token: Optional[str] = None,
                 user_agent: Optional[str] = None, timeout: Optional[int] = DEFAULT_TIMEOUT,
                 auto_retry: bool = True):
        &#34;&#34;&#34;
        Create a new API client instance for the given `client_id` and `client_secret`.
        This will allow you to follow the authentication flow to get an `access_token`.

        Alternatively, you can provide an `access_token` directly, in which case then you don&#39;t need
        to specify a `client_secret` (though the token cannot be refreshed in this case).

        Args:
            client_id: The FreshBooks application client id
            client_secret: (Optional) The FreshBooks application client secret
            redirect_uri: (Optional) Where the user should be redirected to after authentication
            access_token: (Optional) An already authenticated access token to use
            refresh_token: (Optional) An already authenticated refresh token to use
            user_agent: (Optional) A user-agent string to override the default
            timeout: (Optional) Set the timeout for API calls. Defaults to 30
            auto_retry: If the SDK should retry failed call up to 3 times. Defaults to True.

        Returns:
            The Client instance
        &#34;&#34;&#34;
        self.client_id = client_id
        self.client_secret = client_secret
        self.redirect_uri = redirect_uri
        self.access_token = access_token
        self.refresh_token = refresh_token
        self.access_token_expires_at: Optional[datetime] = None
        self.timeout = timeout
        self.auto_retry = auto_retry

        self.base_url = os.getenv(&#34;FRESHBOOKS_API_URL&#34;, API_BASE_URL)
        self.authorization_url = &#34;{}{}&#34;.format(os.getenv(&#34;FRESHBOOKS_AUTH_URL&#34;, AUTH_BASE_URL), AUTH_URL)
        self.token_url = &#34;{}{}&#34;.format(os.getenv(&#34;FRESHBOOKS_AUTH_URL&#34;, AUTH_BASE_URL), AUTH_URL)

        if user_agent:
            self.user_agent = user_agent
        else:
            self.user_agent = f&#34;FreshBooks python sdk/{VERSION} client_id {self.client_id}&#34;

    def __str__(self) -&gt; str:  # pragma: no cover
        return f&#34;FreshBooks Client: {self.client_id}&#34;

    def __repr__(self) -&gt; str:  # pragma: no cover
        return f&#34;FreshBooks Client: {self.client_id}&#34;

    def _client_resource_config(self) -&gt; SimpleNamespace:
        return SimpleNamespace(
            access_token=self.access_token,
            base_url=self.base_url,
            user_agent=self.user_agent,
            auto_retry=self.auto_retry,
            timeout=self.timeout
        )

    def get_auth_request_url(self, scopes: Optional[List[str]] = None) -&gt; str:
        &#34;&#34;&#34;Returns the url that a client needs to request an oauth grant from the server.

        To get an oauth access token, send your user to this URL. The user will be prompted to
        log in to FreshBooks, after which they will be redirected to the `redirect_uri` set on
        the client with the access grant as a parameter. That grant can then be used to fetch an
        access token by calling `get_access_token`.

        Note: The `redirect_uri` must be one of the URLs your application is registered for.

        If scopes are not specified, then the access token will be given the default scopes your
        application is registered for.

        Args:
            scopes: List of scopes if your want an access token with only a subset of your registered scopes

        Returns:
            The URL for the authorization request
        &#34;&#34;&#34;
        params = {
            &#34;client_id&#34;: self.client_id,
            &#34;response_type&#34;: &#34;code&#34;,
            &#34;redirect_uri&#34;: self.redirect_uri,
        }
        if scopes:
            params[&#34;scope&#34;] = &#34; &#34;.join(scopes)
        formatted_params = &#34;&#34;.join(urlencode(params))
        return f&#34;{self.authorization_url}?{formatted_params}&#34;

    def _authorize_call(self, grant_type: str, code_type: str, code: str) -&gt; SimpleNamespace:
        &#34;&#34;&#34;Shared logic for making access_token and refresh_token calls&#34;&#34;&#34;
        payload = {
            &#34;client_id&#34;: self.client_id,
            &#34;client_secret&#34;: self.client_secret,
            &#34;grant_type&#34;: grant_type,
            &#34;redirect_uri&#34;: self.redirect_uri,
            code_type: code
        }
        response = requests.post(f&#34;{self.base_url}/{API_TOKEN_URL}&#34;, payload, timeout=self.timeout)
        content = response.json()
        try:
            self.access_token = content[&#34;access_token&#34;]
            self.refresh_token = content[&#34;refresh_token&#34;]
            created_at = datetime.utcfromtimestamp(content[&#34;created_at&#34;])
            expires_in = timedelta(seconds=content[&#34;expires_in&#34;])
            self.access_token_expires_at = created_at + expires_in
        except KeyError:
            raise FreshBooksError(response.status_code, &#34;Failed to fetch access_token&#34;, raw_response=response.text)
        return SimpleNamespace(
            access_token=self.access_token,
            refresh_token=self.refresh_token,
            access_token_expires_at=self.access_token_expires_at
        )

    def get_access_token(self, code: str) -&gt; SimpleNamespace:
        &#34;&#34;&#34;Makes a call to the FreshBooks token URL to get an access_token.

        This requires the access_grant code obtained after the user is redirected by the authorization
        step. See `freshbooks.client.Client.get_auth_request_url`.

        This call sets the `access_token`, `refresh_token`, and `access_token_expires_at` attributes
        on the Client instance and also returns those values in an object.

        Args:
            code: access_grant code from the authorization redirect

        Returns:
            Simplre namespace containing `access_token`, `refresh_token`, and `access_token_expires_at`
        &#34;&#34;&#34;
        return self._authorize_call(&#34;authorization_code&#34;, &#34;code&#34;, code)

    def refresh_access_token(self, refresh_token: Optional[str] = None) -&gt; SimpleNamespace:
        &#34;&#34;&#34;Makes a call to the FreshBooks token URL to refresh an access_token.

        If `refresh_token` is provided, it will call to refresh it, otherwise it will use the
        `refresh_token` on the Client instance.

        This call sets the `access_token`, `refresh_token`, and `access_token_expires_at` attributes
        on the Client instance to the new values from the refresh call, and also returns those values
        in an object.

        Args:
            refresh_token: (Optional) refresh_token from initial `get_access_token` call

        Returns:
            Simplre namespace containing `access_token`, `refresh_token`, and `access_token_expires_at`

        Raises:
            FreshBooksClientConfigError: If a refresh token is not set on the client instance and is not provided.
        &#34;&#34;&#34;
        refresh_token = refresh_token or self.refresh_token
        if not refresh_token:
            raise FreshBooksClientConfigError(&#34;refresh_token required&#34;)
        return self._authorize_call(&#34;refresh_token&#34;, &#34;refresh_token&#34;, refresh_token)

    # Auth Resources

    @property
    def current_user(self) -&gt; Identity:
        &#34;&#34;&#34;The identity details of the currently authenticated user.

        See https://www.freshbooks.com/api/me_endpoint
        &#34;&#34;&#34;
        return AuthResource(self._client_resource_config()).me_endpoint()

    # Accounting Resources

    @property
    def clients(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks clients resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(self._client_resource_config(), &#34;users/clients&#34;, &#34;client&#34;, &#34;clients&#34;)

    @property
    def credit_notes(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks credit_notes resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;credit_notes/credit_notes&#34;, &#34;credit_note&#34;, &#34;credit_notes&#34;
        )

    @property
    def estimates(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks estimates resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;estimates/estimates&#34;, &#34;estimate&#34;, &#34;estimates&#34;, delete_via_update=False
        )

    @property
    def expenses(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks expenses resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(self._client_resource_config(), &#34;expenses/expenses&#34;, &#34;expense&#34;, &#34;expenses&#34;)

    @property
    def expenses_categories(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks expenses categories resource with calls to get and list&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;expenses/categories&#34;, &#34;category&#34;, &#34;categories&#34;,
            missing_endpoints=[&#34;create&#34;, &#34;update&#34;, &#34;delete&#34;]
        )

    @property
    def gateways(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks gateways resource with calls to list, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;systems/gateways&#34;, &#34;gateway&#34;, &#34;gateways&#34;, delete_via_update=False,
            missing_endpoints=[&#34;create&#34;, &#34;update&#34;, &#34;get&#34;]
        )

    @property
    def invoices(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks invoices resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;invoices/invoices&#34;, &#34;invoice&#34;, &#34;invoices&#34;, delete_via_update=False
        )

    @property
    def invoice_profiles(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks invoice_profiles resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;invoice_profiles/invoice_profiles&#34;, &#34;invoice_profile&#34;, &#34;invoice_profiles&#34;
        )

    @property
    def items(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks items resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(self._client_resource_config(), &#34;items/items&#34;, &#34;item&#34;, &#34;items&#34;)

    @property
    def other_income(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks other_incomes resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;other_incomes/other_incomes&#34;, &#34;other_income&#34;, &#34;other_income&#34;,
            delete_via_update=False
        )

    @property
    def payments(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks payments resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(self._client_resource_config(), &#34;payments/payments&#34;, &#34;payment&#34;, &#34;payments&#34;)

    @property
    def staff(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks staff resource with calls to get, list, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;users/staffs&#34;, &#34;staff&#34;, &#34;staffs&#34;, missing_endpoints=[&#34;create&#34;]
        )

    @property
    def systems(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks systems resource with calls to get only&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;systems/systems&#34;, &#34;system&#34;, &#34;systems&#34;,
            missing_endpoints=[&#34;create&#34;, &#34;update&#34;, &#34;delete&#34;, &#34;list&#34;]
        )

    @property
    def tasks(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks tasks resource with calls to get, list, create, update, delete

        Note: There is a lot of overlap between Services and Tasks. In general services are used
        to add categories of work to projects, and tasks are used to add billable work to invoices.

        Creating a task should create the corresponding service and vice versa.
        &#34;&#34;&#34;
        return AccountingResource(self._client_resource_config(), &#34;projects/tasks&#34;, &#34;task&#34;, &#34;tasks&#34;)

    @property
    def taxes(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks taxes resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return AccountingResource(
            self._client_resource_config(), &#34;taxes/taxes&#34;, &#34;tax&#34;, &#34;taxes&#34;, delete_via_update=False
        )

    # Project Resources

    @property
    def projects(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks projects resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return ProjectsResource(self._client_resource_config(), &#34;projects&#34;, &#34;project&#34;)

    # Time tracking Resources

    @property
    def time_entries(self) -&gt; Resource:
        &#34;&#34;&#34;FreshBooks time_entries resource with calls to get, list, create, update, delete&#34;&#34;&#34;
        return TimetrackingResource(self._client_resource_config(), &#34;time_entries&#34;, &#34;time_entry&#34;)</code></pre>
</details>
<h3>Instance variables</h3>
<dl>
<dt id="freshbooks.client.Client.clients"><code class="name">var <span class="ident">clients</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks clients resource with calls to get, list, create, update, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def clients(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks clients resource with calls to get, list, create, update, delete&#34;&#34;&#34;
    return AccountingResource(self._client_resource_config(), &#34;users/clients&#34;, &#34;client&#34;, &#34;clients&#34;)</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.credit_notes"><code class="name">var <span class="ident">credit_notes</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks credit_notes resource with calls to get, list, create, update, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def credit_notes(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks credit_notes resource with calls to get, list, create, update, delete&#34;&#34;&#34;
    return AccountingResource(
        self._client_resource_config(), &#34;credit_notes/credit_notes&#34;, &#34;credit_note&#34;, &#34;credit_notes&#34;
    )</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.current_user"><code class="name">var <span class="ident">current_user</span> : <a title="freshbooks.models.Identity" href="models.html#freshbooks.models.Identity">Identity</a></code></dt>
<dd>
<div class="desc"><p>The identity details of the currently authenticated user.</p>
<p>See <a href="https://www.freshbooks.com/api/me_endpoint">https://www.freshbooks.com/api/me_endpoint</a></p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def current_user(self) -&gt; Identity:
    &#34;&#34;&#34;The identity details of the currently authenticated user.

    See https://www.freshbooks.com/api/me_endpoint
    &#34;&#34;&#34;
    return AuthResource(self._client_resource_config()).me_endpoint()</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.estimates"><code class="name">var <span class="ident">estimates</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks estimates resource with calls to get, list, create, update, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def estimates(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks estimates resource with calls to get, list, create, update, delete&#34;&#34;&#34;
    return AccountingResource(
        self._client_resource_config(), &#34;estimates/estimates&#34;, &#34;estimate&#34;, &#34;estimates&#34;, delete_via_update=False
    )</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.expenses"><code class="name">var <span class="ident">expenses</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks expenses resource with calls to get, list, create, update, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def expenses(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks expenses resource with calls to get, list, create, update, delete&#34;&#34;&#34;
    return AccountingResource(self._client_resource_config(), &#34;expenses/expenses&#34;, &#34;expense&#34;, &#34;expenses&#34;)</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.expenses_categories"><code class="name">var <span class="ident">expenses_categories</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks expenses categories resource with calls to get and list</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def expenses_categories(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks expenses categories resource with calls to get and list&#34;&#34;&#34;
    return AccountingResource(
        self._client_resource_config(), &#34;expenses/categories&#34;, &#34;category&#34;, &#34;categories&#34;,
        missing_endpoints=[&#34;create&#34;, &#34;update&#34;, &#34;delete&#34;]
    )</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.gateways"><code class="name">var <span class="ident">gateways</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks gateways resource with calls to list, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def gateways(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks gateways resource with calls to list, delete&#34;&#34;&#34;
    return AccountingResource(
        self._client_resource_config(), &#34;systems/gateways&#34;, &#34;gateway&#34;, &#34;gateways&#34;, delete_via_update=False,
        missing_endpoints=[&#34;create&#34;, &#34;update&#34;, &#34;get&#34;]
    )</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.invoice_profiles"><code class="name">var <span class="ident">invoice_profiles</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks invoice_profiles resource with calls to get, list, create, update, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def invoice_profiles(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks invoice_profiles resource with calls to get, list, create, update, delete&#34;&#34;&#34;
    return AccountingResource(
        self._client_resource_config(), &#34;invoice_profiles/invoice_profiles&#34;, &#34;invoice_profile&#34;, &#34;invoice_profiles&#34;
    )</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.invoices"><code class="name">var <span class="ident">invoices</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks invoices resource with calls to get, list, create, update, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def invoices(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks invoices resource with calls to get, list, create, update, delete&#34;&#34;&#34;
    return AccountingResource(
        self._client_resource_config(), &#34;invoices/invoices&#34;, &#34;invoice&#34;, &#34;invoices&#34;, delete_via_update=False
    )</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.items"><code class="name">var <span class="ident">items</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks items resource with calls to get, list, create, update, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def items(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks items resource with calls to get, list, create, update, delete&#34;&#34;&#34;
    return AccountingResource(self._client_resource_config(), &#34;items/items&#34;, &#34;item&#34;, &#34;items&#34;)</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.other_income"><code class="name">var <span class="ident">other_income</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks other_incomes resource with calls to get, list, create, update, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def other_income(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks other_incomes resource with calls to get, list, create, update, delete&#34;&#34;&#34;
    return AccountingResource(
        self._client_resource_config(), &#34;other_incomes/other_incomes&#34;, &#34;other_income&#34;, &#34;other_income&#34;,
        delete_via_update=False
    )</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.payments"><code class="name">var <span class="ident">payments</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks payments resource with calls to get, list, create, update, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def payments(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks payments resource with calls to get, list, create, update, delete&#34;&#34;&#34;
    return AccountingResource(self._client_resource_config(), &#34;payments/payments&#34;, &#34;payment&#34;, &#34;payments&#34;)</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.projects"><code class="name">var <span class="ident">projects</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks projects resource with calls to get, list, create, update, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def projects(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks projects resource with calls to get, list, create, update, delete&#34;&#34;&#34;
    return ProjectsResource(self._client_resource_config(), &#34;projects&#34;, &#34;project&#34;)</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.staff"><code class="name">var <span class="ident">staff</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks staff resource with calls to get, list, update, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def staff(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks staff resource with calls to get, list, update, delete&#34;&#34;&#34;
    return AccountingResource(
        self._client_resource_config(), &#34;users/staffs&#34;, &#34;staff&#34;, &#34;staffs&#34;, missing_endpoints=[&#34;create&#34;]
    )</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.systems"><code class="name">var <span class="ident">systems</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks systems resource with calls to get only</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def systems(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks systems resource with calls to get only&#34;&#34;&#34;
    return AccountingResource(
        self._client_resource_config(), &#34;systems/systems&#34;, &#34;system&#34;, &#34;systems&#34;,
        missing_endpoints=[&#34;create&#34;, &#34;update&#34;, &#34;delete&#34;, &#34;list&#34;]
    )</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.tasks"><code class="name">var <span class="ident">tasks</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks tasks resource with calls to get, list, create, update, delete</p>
<p>Note: There is a lot of overlap between Services and Tasks. In general services are used
to add categories of work to projects, and tasks are used to add billable work to invoices.</p>
<p>Creating a task should create the corresponding service and vice versa.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def tasks(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks tasks resource with calls to get, list, create, update, delete

    Note: There is a lot of overlap between Services and Tasks. In general services are used
    to add categories of work to projects, and tasks are used to add billable work to invoices.

    Creating a task should create the corresponding service and vice versa.
    &#34;&#34;&#34;
    return AccountingResource(self._client_resource_config(), &#34;projects/tasks&#34;, &#34;task&#34;, &#34;tasks&#34;)</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.taxes"><code class="name">var <span class="ident">taxes</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks taxes resource with calls to get, list, create, update, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def taxes(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks taxes resource with calls to get, list, create, update, delete&#34;&#34;&#34;
    return AccountingResource(
        self._client_resource_config(), &#34;taxes/taxes&#34;, &#34;tax&#34;, &#34;taxes&#34;, delete_via_update=False
    )</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.time_entries"><code class="name">var <span class="ident">time_entries</span> : freshbooks.api.resource.Resource</code></dt>
<dd>
<div class="desc"><p>FreshBooks time_entries resource with calls to get, list, create, update, delete</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def time_entries(self) -&gt; Resource:
    &#34;&#34;&#34;FreshBooks time_entries resource with calls to get, list, create, update, delete&#34;&#34;&#34;
    return TimetrackingResource(self._client_resource_config(), &#34;time_entries&#34;, &#34;time_entry&#34;)</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="freshbooks.client.Client.get_access_token"><code class="name flex">
<span>def <span class="ident">get_access_token</span></span>(<span>self, code: str) ‑> types.SimpleNamespace</span>
</code></dt>
<dd>
<div class="desc"><p>Makes a call to the FreshBooks token URL to get an access_token.</p>
<p>This requires the access_grant code obtained after the user is redirected by the authorization
step. See <code><a title="freshbooks.client.Client.get_auth_request_url" href="#freshbooks.client.Client.get_auth_request_url">Client.get_auth_request_url()</a></code>.</p>
<p>This call sets the <code>access_token</code>, <code>refresh_token</code>, and <code>access_token_expires_at</code> attributes
on the Client instance and also returns those values in an object.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>code</code></strong></dt>
<dd>access_grant code from the authorization redirect</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>Simplre namespace containing <code>access_token</code>, <code>refresh_token</code>, and <code>access_token_expires_at</code></p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_access_token(self, code: str) -&gt; SimpleNamespace:
    &#34;&#34;&#34;Makes a call to the FreshBooks token URL to get an access_token.

    This requires the access_grant code obtained after the user is redirected by the authorization
    step. See `freshbooks.client.Client.get_auth_request_url`.

    This call sets the `access_token`, `refresh_token`, and `access_token_expires_at` attributes
    on the Client instance and also returns those values in an object.

    Args:
        code: access_grant code from the authorization redirect

    Returns:
        Simplre namespace containing `access_token`, `refresh_token`, and `access_token_expires_at`
    &#34;&#34;&#34;
    return self._authorize_call(&#34;authorization_code&#34;, &#34;code&#34;, code)</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.get_auth_request_url"><code class="name flex">
<span>def <span class="ident">get_auth_request_url</span></span>(<span>self, scopes: Optional[List[str]] = None) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the url that a client needs to request an oauth grant from the server.</p>
<p>To get an oauth access token, send your user to this URL. The user will be prompted to
log in to FreshBooks, after which they will be redirected to the <code>redirect_uri</code> set on
the client with the access grant as a parameter. That grant can then be used to fetch an
access token by calling <code>get_access_token</code>.</p>
<p>Note: The <code>redirect_uri</code> must be one of the URLs your application is registered for.</p>
<p>If scopes are not specified, then the access token will be given the default scopes your
application is registered for.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>scopes</code></strong></dt>
<dd>List of scopes if your want an access token with only a subset of your registered scopes</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>The URL for the authorization request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_auth_request_url(self, scopes: Optional[List[str]] = None) -&gt; str:
    &#34;&#34;&#34;Returns the url that a client needs to request an oauth grant from the server.

    To get an oauth access token, send your user to this URL. The user will be prompted to
    log in to FreshBooks, after which they will be redirected to the `redirect_uri` set on
    the client with the access grant as a parameter. That grant can then be used to fetch an
    access token by calling `get_access_token`.

    Note: The `redirect_uri` must be one of the URLs your application is registered for.

    If scopes are not specified, then the access token will be given the default scopes your
    application is registered for.

    Args:
        scopes: List of scopes if your want an access token with only a subset of your registered scopes

    Returns:
        The URL for the authorization request
    &#34;&#34;&#34;
    params = {
        &#34;client_id&#34;: self.client_id,
        &#34;response_type&#34;: &#34;code&#34;,
        &#34;redirect_uri&#34;: self.redirect_uri,
    }
    if scopes:
        params[&#34;scope&#34;] = &#34; &#34;.join(scopes)
    formatted_params = &#34;&#34;.join(urlencode(params))
    return f&#34;{self.authorization_url}?{formatted_params}&#34;</code></pre>
</details>
</dd>
<dt id="freshbooks.client.Client.refresh_access_token"><code class="name flex">
<span>def <span class="ident">refresh_access_token</span></span>(<span>self, refresh_token: Optional[str] = None) ‑> types.SimpleNamespace</span>
</code></dt>
<dd>
<div class="desc"><p>Makes a call to the FreshBooks token URL to refresh an access_token.</p>
<p>If <code>refresh_token</code> is provided, it will call to refresh it, otherwise it will use the
<code>refresh_token</code> on the Client instance.</p>
<p>This call sets the <code>access_token</code>, <code>refresh_token</code>, and <code>access_token_expires_at</code> attributes
on the Client instance to the new values from the refresh call, and also returns those values
in an object.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>refresh_token</code></strong></dt>
<dd>(Optional) refresh_token from initial <code>get_access_token</code> call</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>Simplre namespace containing <code>access_token</code>, <code>refresh_token</code>, and <code>access_token_expires_at</code></p>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>FreshBooksClientConfigError</code></dt>
<dd>If a refresh token is not set on the client instance and is not provided.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def refresh_access_token(self, refresh_token: Optional[str] = None) -&gt; SimpleNamespace:
    &#34;&#34;&#34;Makes a call to the FreshBooks token URL to refresh an access_token.

    If `refresh_token` is provided, it will call to refresh it, otherwise it will use the
    `refresh_token` on the Client instance.

    This call sets the `access_token`, `refresh_token`, and `access_token_expires_at` attributes
    on the Client instance to the new values from the refresh call, and also returns those values
    in an object.

    Args:
        refresh_token: (Optional) refresh_token from initial `get_access_token` call

    Returns:
        Simplre namespace containing `access_token`, `refresh_token`, and `access_token_expires_at`

    Raises:
        FreshBooksClientConfigError: If a refresh token is not set on the client instance and is not provided.
    &#34;&#34;&#34;
    refresh_token = refresh_token or self.refresh_token
    if not refresh_token:
        raise FreshBooksClientConfigError(&#34;refresh_token required&#34;)
    return self._authorize_call(&#34;refresh_token&#34;, &#34;refresh_token&#34;, refresh_token)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="freshbooks" href="index.html">freshbooks</a></code></li>
</ul>
</li>
<li><h3><a href="#header-variables">Global variables</a></h3>
<ul class="">
<li><code><a title="freshbooks.client.DEFAULT_TIMEOUT" href="#freshbooks.client.DEFAULT_TIMEOUT">DEFAULT_TIMEOUT</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="freshbooks.client.Client" href="#freshbooks.client.Client">Client</a></code></h4>
<ul class="">
<li><code><a title="freshbooks.client.Client.clients" href="#freshbooks.client.Client.clients">clients</a></code></li>
<li><code><a title="freshbooks.client.Client.credit_notes" href="#freshbooks.client.Client.credit_notes">credit_notes</a></code></li>
<li><code><a title="freshbooks.client.Client.current_user" href="#freshbooks.client.Client.current_user">current_user</a></code></li>
<li><code><a title="freshbooks.client.Client.estimates" href="#freshbooks.client.Client.estimates">estimates</a></code></li>
<li><code><a title="freshbooks.client.Client.expenses" href="#freshbooks.client.Client.expenses">expenses</a></code></li>
<li><code><a title="freshbooks.client.Client.expenses_categories" href="#freshbooks.client.Client.expenses_categories">expenses_categories</a></code></li>
<li><code><a title="freshbooks.client.Client.gateways" href="#freshbooks.client.Client.gateways">gateways</a></code></li>
<li><code><a title="freshbooks.client.Client.get_access_token" href="#freshbooks.client.Client.get_access_token">get_access_token</a></code></li>
<li><code><a title="freshbooks.client.Client.get_auth_request_url" href="#freshbooks.client.Client.get_auth_request_url">get_auth_request_url</a></code></li>
<li><code><a title="freshbooks.client.Client.invoice_profiles" href="#freshbooks.client.Client.invoice_profiles">invoice_profiles</a></code></li>
<li><code><a title="freshbooks.client.Client.invoices" href="#freshbooks.client.Client.invoices">invoices</a></code></li>
<li><code><a title="freshbooks.client.Client.items" href="#freshbooks.client.Client.items">items</a></code></li>
<li><code><a title="freshbooks.client.Client.other_income" href="#freshbooks.client.Client.other_income">other_income</a></code></li>
<li><code><a title="freshbooks.client.Client.payments" href="#freshbooks.client.Client.payments">payments</a></code></li>
<li><code><a title="freshbooks.client.Client.projects" href="#freshbooks.client.Client.projects">projects</a></code></li>
<li><code><a title="freshbooks.client.Client.refresh_access_token" href="#freshbooks.client.Client.refresh_access_token">refresh_access_token</a></code></li>
<li><code><a title="freshbooks.client.Client.staff" href="#freshbooks.client.Client.staff">staff</a></code></li>
<li><code><a title="freshbooks.client.Client.systems" href="#freshbooks.client.Client.systems">systems</a></code></li>
<li><code><a title="freshbooks.client.Client.tasks" href="#freshbooks.client.Client.tasks">tasks</a></code></li>
<li><code><a title="freshbooks.client.Client.taxes" href="#freshbooks.client.Client.taxes">taxes</a></code></li>
<li><code><a title="freshbooks.client.Client.time_entries" href="#freshbooks.client.Client.time_entries">time_entries</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>